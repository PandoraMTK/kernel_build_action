name: Build BTK Kernels
run-name: Build BTK Kernels
on:
  workflow_dispatch:
    inputs:
      VERSION:
        required: true
        type: string
        description: Version
      BRANCH:
        required: false
        type: string
        description: branch
        default: miui-u
jobs:
  init-build:
    name: Build Kernel
    strategy:
      fail-fast: false
      matrix:
        include:
          - device: odin
          - device: haydn
          - device: venus
          - device: star
    uses: PandoraMTK/kernel_build_action/.github/workflows/build-btk.yml@main
    secrets: inherit
    with:
      VERSION: ${{ inputs.VERSION }}
      DEVICE: ${{ matrix.device}}
      BRANCH: ${{inputs.BRANCH}}
      COMPILER_VER: 18.1.5-20240504
